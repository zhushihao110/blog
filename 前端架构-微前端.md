

 

## 前端发展-神农系统架构

1.前端正式的出现---XHR(XMLHttpRequest)---ajax

2.html.css.js (jquery + bootstrap)

3.SPA 框架（angular - react - vue）+  (gulp-webpack-vite)

3.x.微前端技术，服务端渲染技术

### 微前端--应对巨石应用

微前端架构具备以下几个核心价值：

- 技术栈无关：主框架不限制接入应用的技术栈，微应用具备完全自主权（react-vue-angular）
- 独立开发、独立部署：微应用仓库独立，前后端可独立开发，部署完成后主框架自动完成同步更新
- 增量升级：在面对各种复杂场景时，我们通常很难对一个已经存在的系统做全量的技术栈升级或重构，而微前端是一种非常好的实施渐进式重构的手段和策略
- 独立运行时：每个微应用之间状态隔离，运行时状态不共享

#### 解决方案

1. 前端容器化：iframe
2. 微组建：借助Web Components技术
3. 微应用：single-spa/qiankun---利用SPA框架的生命周期
4. 微模块：将业务拆分为模块，单独打包，使用时远程加载即可

当前微前端主要采用 组合式应用路由方案（微应用）

### 神农系统的微前端架构---single-spa + iframe

由于历史原因，神农系统有前后端不分离项目+ 前后端分离项目组合而成

主框架（基座）应用 + 几个微应用 + iframe

核心思想：监听路由- 挂载不同的子应用 / iframe

主应用管理子应用-利用子应用暴露的生命周期函数来实现子应用的启动和卸载

#### 微前端的限制

微前端存在样式无法隔离问题--主应用的样式设置会影响子应用

子应用数据无法共用--子应用直接交互数据传递利用路由 或框架暴露的方法



<img src="/Users/zhushihao/Library/Application Support/typora-user-images/image-20220615145725286.png" alt="image-20220615145725286" style="zoom:80%;" />

